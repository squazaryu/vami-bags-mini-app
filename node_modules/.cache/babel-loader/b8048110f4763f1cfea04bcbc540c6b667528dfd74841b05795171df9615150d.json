{"ast":null,"code":"\"use strict\";\n\"use client\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\").default;\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\nvar React = _interopRequireWildcard(require(\"react\"));\nvar _usePatchElement = _interopRequireDefault(require(\"../../_util/hooks/usePatchElement\"));\nvar _confirm = require(\"../confirm\");\nvar _destroyFns = _interopRequireDefault(require(\"../destroyFns\"));\nvar _HookModal = _interopRequireDefault(require(\"./HookModal\"));\nlet uuid = 0;\nconst ElementsHolder = /*#__PURE__*/React.memo(/*#__PURE__*/React.forwardRef((_props, ref) => {\n  const [elements, patchElement] = (0, _usePatchElement.default)();\n  React.useImperativeHandle(ref, () => ({\n    patchElement\n  }), []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, elements);\n}));\nfunction useModal() {\n  const holderRef = React.useRef(null);\n  // ========================== Effect ==========================\n  const [actionQueue, setActionQueue] = React.useState([]);\n  React.useEffect(() => {\n    if (actionQueue.length) {\n      const cloneQueue = (0, _toConsumableArray2.default)(actionQueue);\n      cloneQueue.forEach(action => {\n        action();\n      });\n      setActionQueue([]);\n    }\n  }, [actionQueue]);\n  // =========================== Hook ===========================\n  const getConfirmFunc = React.useCallback(withFunc => function hookConfirm(config) {\n    var _a;\n    uuid += 1;\n    const modalRef = /*#__PURE__*/React.createRef();\n    // Proxy to promise with `onClose`\n    let resolvePromise;\n    const promise = new Promise(resolve => {\n      resolvePromise = resolve;\n    });\n    let silent = false;\n    let closeFunc;\n    const modal = /*#__PURE__*/React.createElement(_HookModal.default, {\n      key: `modal-${uuid}`,\n      config: withFunc(config),\n      ref: modalRef,\n      afterClose: () => {\n        closeFunc === null || closeFunc === void 0 ? void 0 : closeFunc();\n      },\n      isSilent: () => silent,\n      onConfirm: confirmed => {\n        resolvePromise(confirmed);\n      }\n    });\n    closeFunc = (_a = holderRef.current) === null || _a === void 0 ? void 0 : _a.patchElement(modal);\n    if (closeFunc) {\n      _destroyFns.default.push(closeFunc);\n    }\n    const instance = {\n      destroy: () => {\n        function destroyAction() {\n          var _a;\n          (_a = modalRef.current) === null || _a === void 0 ? void 0 : _a.destroy();\n        }\n        if (modalRef.current) {\n          destroyAction();\n        } else {\n          setActionQueue(prev => [].concat((0, _toConsumableArray2.default)(prev), [destroyAction]));\n        }\n      },\n      update: newConfig => {\n        function updateAction() {\n          var _a;\n          (_a = modalRef.current) === null || _a === void 0 ? void 0 : _a.update(newConfig);\n        }\n        if (modalRef.current) {\n          updateAction();\n        } else {\n          setActionQueue(prev => [].concat((0, _toConsumableArray2.default)(prev), [updateAction]));\n        }\n      },\n      then: resolve => {\n        silent = true;\n        return promise.then(resolve);\n      }\n    };\n    return instance;\n  }, []);\n  const fns = React.useMemo(() => ({\n    info: getConfirmFunc(_confirm.withInfo),\n    success: getConfirmFunc(_confirm.withSuccess),\n    error: getConfirmFunc(_confirm.withError),\n    warning: getConfirmFunc(_confirm.withWarn),\n    confirm: getConfirmFunc(_confirm.withConfirm)\n  }), []);\n  return [fns, /*#__PURE__*/React.createElement(ElementsHolder, {\n    key: \"modal-holder\",\n    ref: holderRef\n  })];\n}\nvar _default = exports.default = useModal;","map":{"version":3,"names":["_interopRequireWildcard","require","default","_interopRequireDefault","Object","defineProperty","exports","value","_toConsumableArray2","React","_usePatchElement","_confirm","_destroyFns","_HookModal","uuid","ElementsHolder","memo","forwardRef","_props","ref","elements","patchElement","useImperativeHandle","createElement","Fragment","useModal","holderRef","useRef","actionQueue","setActionQueue","useState","useEffect","length","cloneQueue","forEach","action","getConfirmFunc","useCallback","withFunc","hookConfirm","config","_a","modalRef","createRef","resolvePromise","promise","Promise","resolve","silent","closeFunc","modal","key","afterClose","isSilent","onConfirm","confirmed","current","push","instance","destroy","destroyAction","prev","concat","update","newConfig","updateAction","then","fns","useMemo","info","withInfo","success","withSuccess","error","withError","warning","withWarn","confirm","withConfirm","_default"],"sources":["/Users/tumowuh/Desktop/backups/sumki-mini-app_Release_Vers_20250401_221838/node_modules/antd/lib/modal/useModal/index.js"],"sourcesContent":["\"use strict\";\n\"use client\";\n\nvar _interopRequireWildcard = require(\"@babel/runtime/helpers/interopRequireWildcard\").default;\nvar _interopRequireDefault = require(\"@babel/runtime/helpers/interopRequireDefault\").default;\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.default = void 0;\nvar _toConsumableArray2 = _interopRequireDefault(require(\"@babel/runtime/helpers/toConsumableArray\"));\nvar React = _interopRequireWildcard(require(\"react\"));\nvar _usePatchElement = _interopRequireDefault(require(\"../../_util/hooks/usePatchElement\"));\nvar _confirm = require(\"../confirm\");\nvar _destroyFns = _interopRequireDefault(require(\"../destroyFns\"));\nvar _HookModal = _interopRequireDefault(require(\"./HookModal\"));\nlet uuid = 0;\nconst ElementsHolder = /*#__PURE__*/React.memo(/*#__PURE__*/React.forwardRef((_props, ref) => {\n  const [elements, patchElement] = (0, _usePatchElement.default)();\n  React.useImperativeHandle(ref, () => ({\n    patchElement\n  }), []);\n  return /*#__PURE__*/React.createElement(React.Fragment, null, elements);\n}));\nfunction useModal() {\n  const holderRef = React.useRef(null);\n  // ========================== Effect ==========================\n  const [actionQueue, setActionQueue] = React.useState([]);\n  React.useEffect(() => {\n    if (actionQueue.length) {\n      const cloneQueue = (0, _toConsumableArray2.default)(actionQueue);\n      cloneQueue.forEach(action => {\n        action();\n      });\n      setActionQueue([]);\n    }\n  }, [actionQueue]);\n  // =========================== Hook ===========================\n  const getConfirmFunc = React.useCallback(withFunc => function hookConfirm(config) {\n    var _a;\n    uuid += 1;\n    const modalRef = /*#__PURE__*/React.createRef();\n    // Proxy to promise with `onClose`\n    let resolvePromise;\n    const promise = new Promise(resolve => {\n      resolvePromise = resolve;\n    });\n    let silent = false;\n    let closeFunc;\n    const modal = /*#__PURE__*/React.createElement(_HookModal.default, {\n      key: `modal-${uuid}`,\n      config: withFunc(config),\n      ref: modalRef,\n      afterClose: () => {\n        closeFunc === null || closeFunc === void 0 ? void 0 : closeFunc();\n      },\n      isSilent: () => silent,\n      onConfirm: confirmed => {\n        resolvePromise(confirmed);\n      }\n    });\n    closeFunc = (_a = holderRef.current) === null || _a === void 0 ? void 0 : _a.patchElement(modal);\n    if (closeFunc) {\n      _destroyFns.default.push(closeFunc);\n    }\n    const instance = {\n      destroy: () => {\n        function destroyAction() {\n          var _a;\n          (_a = modalRef.current) === null || _a === void 0 ? void 0 : _a.destroy();\n        }\n        if (modalRef.current) {\n          destroyAction();\n        } else {\n          setActionQueue(prev => [].concat((0, _toConsumableArray2.default)(prev), [destroyAction]));\n        }\n      },\n      update: newConfig => {\n        function updateAction() {\n          var _a;\n          (_a = modalRef.current) === null || _a === void 0 ? void 0 : _a.update(newConfig);\n        }\n        if (modalRef.current) {\n          updateAction();\n        } else {\n          setActionQueue(prev => [].concat((0, _toConsumableArray2.default)(prev), [updateAction]));\n        }\n      },\n      then: resolve => {\n        silent = true;\n        return promise.then(resolve);\n      }\n    };\n    return instance;\n  }, []);\n  const fns = React.useMemo(() => ({\n    info: getConfirmFunc(_confirm.withInfo),\n    success: getConfirmFunc(_confirm.withSuccess),\n    error: getConfirmFunc(_confirm.withError),\n    warning: getConfirmFunc(_confirm.withWarn),\n    confirm: getConfirmFunc(_confirm.withConfirm)\n  }), []);\n  return [fns, /*#__PURE__*/React.createElement(ElementsHolder, {\n    key: \"modal-holder\",\n    ref: holderRef\n  })];\n}\nvar _default = exports.default = useModal;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"script","externalDependencies":[]}