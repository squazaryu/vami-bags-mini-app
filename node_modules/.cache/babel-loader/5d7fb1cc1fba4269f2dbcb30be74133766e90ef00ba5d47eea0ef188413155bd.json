{"ast":null,"code":"import React from'react';import{Typography,Card,Row,Col,Tag,Divider}from'antd';import'./PreviewStep.css';import{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const{Title,Text}=Typography;const PreviewStep=_ref=>{var _orderData$productTyp,_orderData$shape,_orderData$material,_orderData$size,_orderData$color,_orderData$color2;let{orderData,onNext,onBack}=_ref;const formatPrice=price=>{return new Intl.NumberFormat('ru-RU',{style:'currency',currency:'RUB',minimumFractionDigits:0}).format(price);};const calculateTotalPrice=()=>{let total=0;// Базовая цена материала\nif(orderData.material){total+=orderData.material.price;}// Цена размера\nif(orderData.size){total+=orderData.size.price;}// Умножаем на количество\ntotal*=orderData.quantity;return total;};const totalPrice=calculateTotalPrice();return/*#__PURE__*/_jsxs(\"div\",{className:\"preview-step\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"step-header\",children:[/*#__PURE__*/_jsx(Title,{level:3,children:\"\\u041F\\u0440\\u0435\\u0434\\u0432\\u0430\\u0440\\u0438\\u0442\\u0435\\u043B\\u044C\\u043D\\u044B\\u0439 \\u043F\\u0440\\u043E\\u0441\\u043C\\u043E\\u0442\\u0440 \\u0437\\u0430\\u043A\\u0430\\u0437\\u0430\"}),/*#__PURE__*/_jsx(Text,{type:\"secondary\",children:\"\\u041F\\u0440\\u043E\\u0432\\u0435\\u0440\\u044C\\u0442\\u0435 \\u0434\\u0435\\u0442\\u0430\\u043B\\u0438 \\u0432\\u0430\\u0448\\u0435\\u0433\\u043E \\u0437\\u0430\\u043A\\u0430\\u0437\\u0430\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"preview-content\",children:/*#__PURE__*/_jsxs(Card,{className:\"preview-card\",children:[/*#__PURE__*/_jsx(Title,{level:4,children:\"\\u0414\\u0435\\u0442\\u0430\\u043B\\u0438 \\u0437\\u0430\\u043A\\u0430\\u0437\\u0430\"}),/*#__PURE__*/_jsxs(Row,{gutter:[16,16],className:\"preview-details\",children:[/*#__PURE__*/_jsxs(Col,{xs:24,md:12,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(Text,{strong:true,children:\"\\u0422\\u0438\\u043F \\u043F\\u0440\\u043E\\u0434\\u0443\\u043A\\u0442\\u0430:\"}),/*#__PURE__*/_jsx(Text,{children:(_orderData$productTyp=orderData.productType)===null||_orderData$productTyp===void 0?void 0:_orderData$productTyp.displayName})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(Text,{strong:true,children:\"\\u0424\\u043E\\u0440\\u043C\\u0430:\"}),/*#__PURE__*/_jsx(Text,{children:(_orderData$shape=orderData.shape)===null||_orderData$shape===void 0?void 0:_orderData$shape.displayName})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(Text,{strong:true,children:\"\\u041C\\u0430\\u0442\\u0435\\u0440\\u0438\\u0430\\u043B:\"}),/*#__PURE__*/_jsx(Text,{children:(_orderData$material=orderData.material)===null||_orderData$material===void 0?void 0:_orderData$material.displayName}),orderData.material&&/*#__PURE__*/_jsx(Tag,{color:\"blue\",className:\"price-tag\",children:formatPrice(orderData.material.price)})]})]}),/*#__PURE__*/_jsxs(Col,{xs:24,md:12,children:[/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(Text,{strong:true,children:\"\\u0420\\u0430\\u0437\\u043C\\u0435\\u0440:\"}),/*#__PURE__*/_jsx(Text,{children:(_orderData$size=orderData.size)===null||_orderData$size===void 0?void 0:_orderData$size.displayName}),orderData.size&&orderData.size.price>0&&/*#__PURE__*/_jsxs(Tag,{color:\"blue\",className:\"price-tag\",children:[\"+\",formatPrice(orderData.size.price)]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(Text,{strong:true,children:\"\\u0426\\u0432\\u0435\\u0442:\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"color-preview\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"color-sample\",style:{backgroundColor:(_orderData$color=orderData.color)===null||_orderData$color===void 0?void 0:_orderData$color.hex}}),/*#__PURE__*/_jsx(Text,{children:(_orderData$color2=orderData.color)===null||_orderData$color2===void 0?void 0:_orderData$color2.displayName})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(Text,{strong:true,children:\"\\u041A\\u043E\\u043B\\u0438\\u0447\\u0435\\u0441\\u0442\\u0432\\u043E:\"}),/*#__PURE__*/_jsxs(Text,{children:[orderData.quantity,\" \\u0448\\u0442.\"]})]})]})]}),orderData.additionalNotes&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"detail-item\",children:[/*#__PURE__*/_jsx(Text,{strong:true,children:\"\\u0414\\u043E\\u043F\\u043E\\u043B\\u043D\\u0438\\u0442\\u0435\\u043B\\u044C\\u043D\\u044B\\u0435 \\u043F\\u043E\\u0436\\u0435\\u043B\\u0430\\u043D\\u0438\\u044F:\"}),/*#__PURE__*/_jsx(Text,{className:\"notes-text\",children:orderData.additionalNotes})]})]}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsxs(\"div\",{className:\"price-summary\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"total-price\",children:[/*#__PURE__*/_jsx(Text,{strong:true,children:\"\\u0418\\u0442\\u043E\\u0433\\u043E:\"}),/*#__PURE__*/_jsx(Text,{className:\"total-amount\",children:formatPrice(totalPrice)})]}),/*#__PURE__*/_jsx(Text,{type:\"secondary\",className:\"price-note\",children:\"* \\u0426\\u0435\\u043D\\u0430 \\u043C\\u043E\\u0436\\u0435\\u0442 \\u0438\\u0437\\u043C\\u0435\\u043D\\u0438\\u0442\\u044C\\u0441\\u044F \\u0432 \\u0437\\u0430\\u0432\\u0438\\u0441\\u0438\\u043C\\u043E\\u0441\\u0442\\u0438 \\u043E\\u0442 \\u0441\\u043B\\u043E\\u0436\\u043D\\u043E\\u0441\\u0442\\u0438 \\u0440\\u0430\\u0431\\u043E\\u0442\\u044B\"})]})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"step-actions\",children:[/*#__PURE__*/_jsx(\"button\",{className:\"back-button\",onClick:onBack,children:\"\\u041D\\u0430\\u0437\\u0430\\u0434\"}),/*#__PURE__*/_jsx(\"button\",{className:\"next-button\",onClick:onNext,children:\"\\u041E\\u0444\\u043E\\u0440\\u043C\\u0438\\u0442\\u044C \\u0437\\u0430\\u043A\\u0430\\u0437\"})]})]});};export default PreviewStep;","map":{"version":3,"names":["React","Typography","Card","Row","Col","Tag","Divider","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","Title","Text","PreviewStep","_ref","_orderData$productTyp","_orderData$shape","_orderData$material","_orderData$size","_orderData$color","_orderData$color2","orderData","onNext","onBack","formatPrice","price","Intl","NumberFormat","style","currency","minimumFractionDigits","format","calculateTotalPrice","total","material","size","quantity","totalPrice","className","children","level","type","gutter","xs","md","strong","productType","displayName","shape","color","backgroundColor","hex","additionalNotes","onClick"],"sources":["/Users/tumowuh/Desktop/backups/sumki-mini-app_Release_Vers_20250401_221838/src/components/PreviewStep.tsx"],"sourcesContent":["import React from 'react';\nimport { Typography, Card, Row, Col, Tag, Divider } from 'antd';\nimport { OrderForm as OrderFormType } from '../types';\nimport './PreviewStep.css';\n\nconst { Title, Text } = Typography;\n\ninterface PreviewStepProps {\n  orderData: OrderFormType;\n  onNext: () => void;\n  onBack: () => void;\n}\n\nconst PreviewStep: React.FC<PreviewStepProps> = ({\n  orderData,\n  onNext,\n  onBack\n}) => {\n  const formatPrice = (price: number) => {\n    return new Intl.NumberFormat('ru-RU', {\n      style: 'currency',\n      currency: 'RUB',\n      minimumFractionDigits: 0\n    }).format(price);\n  };\n\n  const calculateTotalPrice = () => {\n    let total = 0;\n    \n    // Базовая цена материала\n    if (orderData.material) {\n      total += orderData.material.price;\n    }\n    \n    // Цена размера\n    if (orderData.size) {\n      total += orderData.size.price;\n    }\n    \n    // Умножаем на количество\n    total *= orderData.quantity;\n    \n    return total;\n  };\n\n  const totalPrice = calculateTotalPrice();\n\n  return (\n    <div className=\"preview-step\">\n      <div className=\"step-header\">\n        <Title level={3}>Предварительный просмотр заказа</Title>\n        <Text type=\"secondary\">Проверьте детали вашего заказа</Text>\n      </div>\n\n      <div className=\"preview-content\">\n        <Card className=\"preview-card\">\n          <Title level={4}>Детали заказа</Title>\n          \n          <Row gutter={[16, 16]} className=\"preview-details\">\n            <Col xs={24} md={12}>\n              <div className=\"detail-item\">\n                <Text strong>Тип продукта:</Text>\n                <Text>{orderData.productType?.displayName}</Text>\n              </div>\n              \n              <div className=\"detail-item\">\n                <Text strong>Форма:</Text>\n                <Text>{orderData.shape?.displayName}</Text>\n              </div>\n              \n              <div className=\"detail-item\">\n                <Text strong>Материал:</Text>\n                <Text>{orderData.material?.displayName}</Text>\n                {orderData.material && (\n                  <Tag color=\"blue\" className=\"price-tag\">\n                    {formatPrice(orderData.material.price)}\n                  </Tag>\n                )}\n              </div>\n            </Col>\n            \n            <Col xs={24} md={12}>\n              <div className=\"detail-item\">\n                <Text strong>Размер:</Text>\n                <Text>{orderData.size?.displayName}</Text>\n                {orderData.size && orderData.size.price > 0 && (\n                  <Tag color=\"blue\" className=\"price-tag\">\n                    +{formatPrice(orderData.size.price)}\n                  </Tag>\n                )}\n              </div>\n              \n              <div className=\"detail-item\">\n                <Text strong>Цвет:</Text>\n                <div className=\"color-preview\">\n                  <div \n                    className=\"color-sample\"\n                    style={{ backgroundColor: orderData.color?.hex }}\n                  />\n                  <Text>{orderData.color?.displayName}</Text>\n                </div>\n              </div>\n              \n              <div className=\"detail-item\">\n                <Text strong>Количество:</Text>\n                <Text>{orderData.quantity} шт.</Text>\n              </div>\n            </Col>\n          </Row>\n\n          {orderData.additionalNotes && (\n            <>\n              <Divider />\n              <div className=\"detail-item\">\n                <Text strong>Дополнительные пожелания:</Text>\n                <Text className=\"notes-text\">{orderData.additionalNotes}</Text>\n              </div>\n            </>\n          )}\n\n          <Divider />\n          \n          <div className=\"price-summary\">\n            <div className=\"total-price\">\n              <Text strong>Итого:</Text>\n              <Text className=\"total-amount\">{formatPrice(totalPrice)}</Text>\n            </div>\n            <Text type=\"secondary\" className=\"price-note\">\n              * Цена может измениться в зависимости от сложности работы\n            </Text>\n          </div>\n        </Card>\n      </div>\n\n      <div className=\"step-actions\">\n        <button className=\"back-button\" onClick={onBack}>\n          Назад\n        </button>\n        <button className=\"next-button\" onClick={onNext}>\n          Оформить заказ\n        </button>\n      </div>\n    </div>\n  );\n};\n\nexport default PreviewStep; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}